{% extends 'base.html' %}
{% load cms_tags thumbnail %}

{% block title %}{{ member.name }} · Team · Solak{% endblock %}

{% block content %}
<section class="section section-hero">
  <div class="container">
    <div class="row align-items-center g-5">
      <div class="col-lg-5">
        <div class="ui-card p-2">
          {% if member.photo %}
            {% thumbnail member.photo 900x1100 crop upscale as hero %}
            <img src="{{ hero.url }}" width="{{ hero.width }}" height="{{ hero.height }}" alt="{{ member.name }}" loading="eager" class="card-img-top" />
          {% else %}
            <div class="card-img-top bg-light" style="height: 420px;"></div>
          {% endif %}
        </div>
      </div>
      <div class="col-lg-7">
        <p class="eyebrow">Team profile</p>
        <h1 class="display-4 fw-bold">{{ member.name }}</h1>
        <p class="text-primary fw-semibold mb-3">{{ member.role }}</p>
        <p class="text-muted fs-5">{{ member.tagline|default:member.short_bio }}</p>
        <div class="d-flex flex-wrap gap-2 mt-4">
          {% if member.email %}<a class="btn btn-outline-secondary" href="mailto:{{ member.email }}">{{ member.email }}</a>{% endif %}
          {% if member.phone %}<a class="btn btn-outline-secondary" href="tel:{{ member.phone }}">{{ member.phone }}</a>{% endif %}
          {% if member.linkedin %}<a class="btn btn-outline-secondary" href="{{ member.linkedin }}" target="_blank" rel="noopener">LinkedIn</a>{% endif %}
          {% if member.twitter %}<a class="btn btn-outline-secondary" href="{{ member.twitter }}" target="_blank" rel="noopener">X / Twitter</a>{% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section section-sm">
  <div class="container">
    <div class="row g-5">
      <article class="col-lg-8">
        <h2 class="h3 fw-bold">Biography</h2>
        <div class="mt-3 text-muted">
          {{ member.full_bio|safe }}
        </div>

        <div class="mt-5">
          <h3 class="h5 fw-semibold">Dynamic detail plugins</h3>
          {% static_placeholder "team_detail_plugins" %}
        </div>

        <div class="mt-5">
          <div class="mb-4">
            <h3 class="h5 fw-semibold">Testimonials</h3>
            {% static_placeholder "member_testimonials" %}
          </div>
          <div class="mb-4">
            <h3 class="h5 fw-semibold">Projects</h3>
            {% static_placeholder "member_projects" %}
          </div>
          <div>
            <h3 class="h5 fw-semibold">Call to action</h3>
            {% static_placeholder "member_cta" %}
          </div>
        </div>
      </article>

      <aside class="col-lg-4">
        <h2 class="h3 fw-bold">Core skills</h2>
        <div class="row g-3 mt-3">
          {% for skill in member.skills.all %}
          <div class="col-6">
            <div class="ui-card p-3 text-center">
              <div class="mx-auto mb-3 d-flex align-items-center justify-content-center rounded-circle bg-light" style="width: 96px; height: 96px;">
                <span class="fw-bold">{{ skill.percentage }}%</span>
              </div>
              <p class="small fw-semibold mb-0">{{ skill.name }}</p>
            </div>
          </div>
          {% empty %}
          <p class="text-muted">No skills added yet.</p>
          {% endfor %}
        </div>
      </aside>
    </div>
  </div>
</section>

<section class="section section-sm">
  <div class="container">
    <div class="d-flex flex-wrap align-items-center justify-content-between mb-4">
      <h2 class="h3 fw-bold mb-0">Related members</h2>
      <a href="{% url 'core:member-list' %}" class="btn btn-outline-secondary">View all</a>
    </div>
    <div class="row g-4">
      {% for related in related_members %}
      <div class="col-6 col-md-4 col-lg-2">
        <a href="{{ related.get_absolute_url }}" class="text-decoration-none text-reset">
          <div class="ui-card overflow-hidden">
            {% if related.photo %}
              {% thumbnail related.photo 500x640 crop upscale as thumb %}
              <img src="{{ thumb.url }}" alt="{{ related.name }}" loading="lazy" class="card-img-top" style="height: 180px;" />
            {% else %}
              <div class="card-img-top bg-light" style="height: 180px;"></div>
            {% endif %}
            <div class="card-body">
              <p class="fw-semibold mb-0">{{ related.name }}</p>
              <p class="text-muted small mb-0">{{ related.role }}</p>
            </div>
          </div>
        </a>
      </div>
      {% endfor %}
    </div>
  </div>
</section>
{% endblock %}
